# 概要

「〇 か × か」や「成功か失敗か」といった2種類しかない試行のことを **ベルヌーイ試行** と呼ぶ

ここで「互いに独立したベルヌーイ試行をn回行ったときにある事象が何回起こるかの確率分布」のことを二項分布と呼ぶ

英語でいうとBinomial Distribution

二項分布は `B(n, p)` または `Bin(n, p)` と表記される

nは試行回数（1つめの例でいうと4回）

pは成功確率（1つめの例でいうと0.3%）

また、ある確率変数Xが二項分布 B(n,p) に従う場合 `X ～ B(n,p)` と表記される

## 二項分布の特徴

分散が十分大きいと正規分布に近似する

※大きさの基準は統計分布ハンドブックによると `分散 > 25`

## 適している計算対象

コイン投げのような成功確率が `0.1 ≤ p ≤ 0.9` で試行回数が `n ≤ 20` のとき

nが大きく分散が十分大きい場合は正規分布に近似する

「単位時間あたりにある現象が何回起こるか」のようにpが非常に小さい値の場合はポアソン分布に近似する

# 公式

## 二項分布の平均（期待値）

`np`

## 二項分布の分散

`np(1 - p)`

# 例

「30%の確率で表が出る特殊なコインを4回投げたときに表がk回でる確率の分布」

「サイコロを200回投げたときに1の目がk回でる確率の分布」

など

## 正規分布に近似する例

サイコロを200回投げたときに1の目が出る回数を確率変数Xとすると

確率変数Xは二項分布B(200, 1/6)に従う

```js
const n = 200
const p = 1/6

const mean = n * p
const variance = n * p * (1 - p)
const std = Math.sqrt(variance)

console.log(mean.toFixed(2))
console.log(variance.toFixed(2))
console.log(std.toFixed(2))
```

結果

```
33.33
27.78
5.27
```

=> 二項分布B(200, 1/6)は平均33.33、標準偏差5.27の正規分布に近似できる

正規分布に近似できるので「平均との差が標準偏差何個分か？」という視点で確率を求められるようになる

以上から、「200回サイコロを投げたときに1の目が出る回数」は

（平均±1標準偏差）約68％の確率で28回～38回におさまり

（平均±1.5標準偏差）約87％の確率で26回～41回におさまり

（平均±2標準偏差）約95％の確率で23回～44回におさまる

ということが分かる

## ポアソン分布に近似する例

nが十分大きくpが十分小さい場合は近似できる

TODO:具体例を追記する

---

参考

[コイン投げから分かる二項分布。正規分布やポアソン分布との関係性と近似について｜アタリマエ！](https://atarimae.biz/archives/7922)
