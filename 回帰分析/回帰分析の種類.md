# 概要

説明変xによって目的変数yの変動を `y = f(x)` の形でどの程度説明できるかを分析する手法

回帰分析を行う主な目的は以下の2点

1. xの値からyの値を予測する（数値の予測）
1. yに影響を与えているxを探し、その影響料を測る（要因分析）

# 例

## 数値の予測

ソフトクリームを販売するA社が過去の統計データをもとに回帰分析したところ、「気象データx」によって「ソフトクリームの販売量y」を `y = f(x)` の形でほとんど説明できることが分かった

この回帰式 `y = f(x)` を用いて「天気予報による気象データの予測値x」から「ソフトクリームの販売量y」を予測させてみたところ、95％の確率で誤差±10%以内の予測ができることが判明した

仕入れ業務に導入することにより機会損失リスクや余剰在庫リスクを大幅に減らすことに成功した

## 要因分析

Webショップを運営するB社が過去の統計データをもとに回帰分析したところ、最も当てはまりの良い回帰式 `y = f(x)` が求まった

その回帰式によれば「滞在時間x1」はあまり売上に影響しておらず、「商品購入画面での関連商品のクリック率x2」が大きく売上に影響していることが読み取れた

そこでA/Bテストを通じて「商品購入画面での関連商品のクリック率」を高める施策を行ったところ、「ついで買い」が増加し、少ないコストで売上を増大させることに成功した

# 回帰分析の注意点

回帰分析の結果はあくまでも判断材料の1つに過ぎない

回帰分析は仮定が正しいという条件のもとでの「最も当てはまりの良い回帰式」を求めているだけなので、本当にその回帰式 `y = f(x)` から「数値の予測」や「要因分析」ができるかは人間が判断しなければならない

TODO:人間はどうやって判断するのか調べる

# 回帰分析の種類

## 単回帰分析

説明変数xが1つだけの回帰式を求めることを単回帰分析と言う

代表的なものは線形単回帰分析 `y = ax + b`

例えば「気温」と販売量の関係性を調べたい場合に使う

## 重回帰分析

説明変数xが2つ以上ある回帰式を求めることを重回帰分析と言う

代表的なものは線形重回帰分析 `y = β_0 + β_1*1 + β_2*2 + ... + β_k*x_k`

例えば「気温と降水量」から販売量の変動を予測・説明したい場合に使う

## ロジスティック回帰分析

目的変数yが「買った or 買わなかった」のように「0か1のどちらかの値をとる2値変数」である場合に使う

「説明変数xが与えられたときに目的変数yが1の値をとる確率」を `q(x)` とおいて、その対数オッズと説明変数xの関係性を計算する

オッズ = `q / (1 - q)`

対数オッズ = `log_e * (q / (1 - q))`

線形重回帰分析では「説明変数xが目的変数yの値に影響を与える」と仮定されるのに対して、ロジスティック回帰分析では「説明変数xが目的変数 `y = 1` となる確率に影響を与える」と仮定される

---

参考

[回帰分析とその主な目的。単回帰分析・重回帰分析・ロジスティック回帰分析の違いについて｜アタリマエ！](https://atarimae.biz/archives/18707)
